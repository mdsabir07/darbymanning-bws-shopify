{% assign count = blog.articles_count %}

{% for article in blog.articles %}
{%- capture current -%}
{%- if order == '1' or order == '7' -%}
  {%- cycle 'odd','even' -%}
{%- elsif order == '2' -%}
  {%- cycle 'odd','odd','even' -%}
{%- elsif order == '3' or order == '4' or order == '6' or order == '9' -%}
  {%- cycle 'even' -%}
{%- elsif order == '5' -%}
  {%- cycle 'even','odd' -%}
{%- elsif order == '8' -%}
  {%- cycle 'even','odd', 'odd' -%}
{%- else -%}
  {%- cycle '','' -%}
{%- endif -%}
{%- endcapture -%}
{%- assign g_width = 'grid-' | append: current -%}

  <div class="{% if count > 2 %}{{ g_width }} slide__item--{{block.id}}{%else%}blog_wrapper u-size-6@s  u-size-6@m  u-size-6@l{% endif %}">
  
        <article class="block border block--shadow" aria-labelledby="FeaturedBlogTitle-{{ forloop.index0 }}-{{ section.id }}">
            <a href="{{ blog.url }}" class="article__link">
              {% if article.image %}
              <div class="news__img">
                <p class="block__message"><span>{{blog.title}} </span> | <span>{{ article.published_at | time_tag: '%d %b' }}</span></p>
                {%- assign img_url = article.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                  <img
                      class="article__grid-image lazyload lazypreload"
                      src="{{ article.image | img_url: 'master' }}"
                      data-src="{{ img_url }}"
                      data-sizes="auto"
                      alt="{{ block.settings.image.alt | escape }}">
              </div>
              {% else %}
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg article__grid-image' }}
              {% endif %}

            <div class="block__info">
                <h3 class="block__title block__title--mid" id="FeaturedBlogTitle-{{ forloop.index0 }}-{{ section.id }}">
                  {{ article.title }}
                </h3>
                <div class="block__p article__grid-excerpt">
                  {% if article.excerpt.size > 0 %}
                    {{ article.excerpt }}
                  {% else %}
                   {{ article.content | strip_html | truncate: 100 }}
                  {% endif %}
                </div>

                {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                <div class="block__buttons u-pT-32 ">
                  <a href="{{ block.settings.button_link }}"
                    class="btn button"
                    aria-label="{{ 'blogs.article.read_more_title' | t: title: article.title }}">
                    {{- block.settings.button_label | escape -}}
                  </a>
                </div>
              {% endif %}
            </div>
          </a>
        </article>
        
    </div>
    
{% else %}

    <p>No articles found.</p>
    
{% endfor %}